{"version":3,"sources":["stores/models/Box.js","utils/getRandomColor.js","stores/MainStore.js","components/BoxDraggable.js","components/Box.js","components/Canvas.js","assets/icons/undo.svg","assets/icons/redo.svg","components/Toolbar.js","assets/icons/add.svg","assets/icons/remove.svg","assets/icons/color.svg","components/Actions.js","components/App.js","serviceWorker.js","index.js"],"names":["BoxModel","types","model","id","identifier","width","height","color","left","top","selected","views","self","actions","move","dx","dy","setPosition","setColor","toggleSelection","select","deselect","getRandomColor","i","Math","floor","random","store","boxes","array","selectedBoxIds","string","undoManager","optional","UndoManager","filter","box","includes","length","getBoxById","find","initialState","dragInitialPositions","removeBox","idx","findIndex","splice","selIdx","indexOf","selectBox","multiSelect","clearSelection","push","deselectBox","afterCreate","getSnapshot","savedState","localStorage","getItem","applySnapshot","JSON","parse","e","console","error","onSnapshot","snapshot","snapshotToSave","slice","setItem","stringify","removeItem","clearError","createBox","create","uuid","addBox","removeSelectedBoxes","forEach","toggleBoxSelection","setColorToSelected","selectedBoxes","reset","startDrag","dragMove","selectedBox","endDrag","Object","keys","finalPositions","hasChanges","initial","final","withoutUndo","observer","props","boxRef","useRef","isSelected","useEffect","handleKeyDown","keyCode","key","selectedCount","preventDefault","window","addEventListener","removeEventListener","element","current","interactable","interact","draggable","inertia","modifiers","autoScroll","listeners","start","event","shiftKey","originalEvent","end","unset","ref","className","style","backgroundColor","transform","boxSizing","onClick","stopPropagation","children","target","currentTarget","map","_extends","assign","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","_ref","svgRef","title","fill","preserveAspectRatio","viewBox","verticalAlign","ForwardRef","forwardRef","undo","disabled","canUndo","redo","canRedo","currentColor","type","onChange","value","log","Boolean","location","hostname","match","retryError","targetStore","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.080dd7b0.chunk.js","sourcesContent":["import { types } from \"mobx-state-tree\";\n\nconst BoxModel = types\n  .model(\"Box\", {\n    id: types.identifier,\n    width: 200,\n    height: 100,\n    color: \"#FFF000\",\n    left: 200,\n    top: 100,\n    selected: false,\n  })\n  .views((self) => ({\n    get position() {\n      return { left: self.left, top: self.top };\n    },\n  }))\n  .actions((self) => ({\n    move(dx, dy) {\n      self.left += dx;\n      self.top += dy;\n    },\n    setPosition(left, top) {\n      self.left = left;\n      self.top = top;\n    },\n    setColor(color) {\n      self.color = color;\n    },\n    toggleSelection() {\n      self.selected = !self.selected;\n    },\n    select() {\n      self.selected = true;\n    },\n    deselect() {\n      self.selected = false;\n    },\n  }));\n\nexport default BoxModel;\n","const getRandomColor = () => {\n  const letters = \"0123456789ABCDEF\";\n  let color = \"#\";\n  for (let i = 0; i < 6; i++) {\n    color += letters[Math.floor(Math.random() * 16)];\n  }\n  return color;\n};\n\nexport default getRandomColor;\n","import { types, getSnapshot, applySnapshot, onSnapshot } from \"mobx-state-tree\";\nimport { UndoManager } from \"mst-middlewares\";\nimport uuid from \"uuid/v4\";\nimport BoxModel from \"./models/Box\";\nimport getRandomColor from \"../utils/getRandomColor\";\n\nconst MainStore = types\n  .model(\"MainStore\", {\n    boxes: types.array(BoxModel),\n    selectedBoxIds: types.array(types.string),\n    undoManager: types.optional(UndoManager, {}),\n  })\n  .views((self) => ({\n    get selectedBoxes() {\n      return self.boxes.filter((box) => self.selectedBoxIds.includes(box.id));\n    },\n    get selectedCount() {\n      return self.selectedBoxIds.length;\n    },\n    getBoxById(id) {\n      return self.boxes.find((box) => box.id === id);\n    },\n  }))\n  .actions((self) => {\n    let initialState = {};\n    let dragInitialPositions = {};\n\n    const afterCreate = () => {\n      initialState = getSnapshot(self);\n\n      const savedState = localStorage.getItem(\"canvasState\");\n      if (savedState) {\n        try {\n          applySnapshot(self, JSON.parse(savedState));\n        } catch (e) {\n          console.error(\"Failed to load saved state\", e);\n        }\n      }\n\n      onSnapshot(self, (snapshot) => {\n        try {\n          const snapshotToSave = { ...snapshot };\n          if (snapshotToSave.boxes.length > 20) {\n            // Solo guardo las cajas mÃ¡s recientes\n            snapshotToSave.boxes = snapshotToSave.boxes.slice(-20);\n          }\n          localStorage.setItem(\"canvasState\", JSON.stringify(snapshotToSave));\n        } catch (e) {\n          // Si cuota excedida limpio\n          console.error(\"Failed to save state\", e);\n          try {\n            localStorage.removeItem(\"canvasState\");\n          } catch (clearError) {\n            console.error(\"Failed to clear localStorage\", clearError);\n          }\n        }\n      });\n    };\n\n    const createBox = () => {\n      const box = BoxModel.create({\n        id: uuid(),\n        color: getRandomColor(),\n        left: Math.random() * 800,\n        top: Math.random() * 400,\n      });\n      self.addBox(box);\n      return box;\n    };\n\n    const addBox = (box) => {\n      self.boxes.push(box);\n    };\n\n    const removeBox = (id) => {\n      const idx = self.boxes.findIndex((box) => box.id === id);\n      if (idx !== -1) {\n        self.boxes.splice(idx, 1);\n      }\n\n      const selIdx = self.selectedBoxIds.indexOf(id);\n      if (selIdx !== -1) {\n        self.selectedBoxIds.splice(selIdx, 1);\n      }\n    };\n\n    const removeSelectedBoxes = () => {\n      const idsToRemove = [...self.selectedBoxIds];\n      idsToRemove.forEach((id) => {\n        removeBox(id);\n      });\n    };\n\n    const selectBox = (id, multiSelect = false) => {\n      const box = self.getBoxById(id);\n      if (!box) return;\n\n      if (!multiSelect) {\n        clearSelection();\n      }\n\n      if (!self.selectedBoxIds.includes(id)) {\n        self.selectedBoxIds.push(id);\n      }\n    };\n\n    const deselectBox = (id) => {\n      const idx = self.selectedBoxIds.indexOf(id);\n      if (idx !== -1) {\n        self.selectedBoxIds.splice(idx, 1);\n      }\n    };\n\n    const toggleBoxSelection = (id, multiSelect = false) => {\n      if (self.selectedBoxIds.includes(id)) {\n        deselectBox(id);\n      } else {\n        selectBox(id, multiSelect);\n      }\n    };\n\n    const clearSelection = () => {\n      self.selectedBoxIds.splice(0, self.selectedBoxIds.length);\n    };\n\n    const setColorToSelected = (color) => {\n      self.selectedBoxes.forEach((box) => {\n        box.setColor(color);\n      });\n    };\n\n    const reset = () => {\n      applySnapshot(self, initialState);\n    };\n\n    const startDrag = () => {\n      dragInitialPositions = {};\n      self.selectedBoxes.forEach((box) => {\n        dragInitialPositions[box.id] = { left: box.left, top: box.top };\n      });\n    };\n\n    const dragMove = (id, dx, dy) => {\n      const box = self.getBoxById(id);\n      if (!box) return;\n\n      if (self.selectedBoxIds.includes(id)) {\n        self.selectedBoxes.forEach((selectedBox) => {\n          selectedBox.move(dx, dy);\n        });\n      } else {\n        box.move(dx, dy);\n      }\n    };\n\n    const endDrag = () => {\n      if (Object.keys(dragInitialPositions).length > 0) {\n        const finalPositions = {};\n        Object.keys(dragInitialPositions).forEach((id) => {\n          const box = self.getBoxById(id);\n          if (box) {\n            finalPositions[id] = { left: box.left, top: box.top };\n          }\n        });\n\n        let hasChanges = false;\n        Object.keys(dragInitialPositions).forEach((id) => {\n          const initial = dragInitialPositions[id];\n          const final = finalPositions[id];\n          if (\n            final &&\n            (initial.left !== final.left || initial.top !== final.top)\n          ) {\n            hasChanges = true;\n          }\n        });\n\n        if (hasChanges) {\n          self.undoManager.withoutUndo(() => {\n            Object.keys(dragInitialPositions).forEach((id) => {\n              const box = self.getBoxById(id);\n              if (box) {\n                const { left, top } = dragInitialPositions[id];\n                box.setPosition(left, top);\n              }\n            });\n          });\n\n          Object.keys(finalPositions).forEach((id) => {\n            const box = self.getBoxById(id);\n            if (box) {\n              const { left, top } = finalPositions[id];\n              box.setPosition(left, top);\n            }\n          });\n        }\n\n        dragInitialPositions = {};\n      }\n    };\n\n    return {\n      afterCreate,\n      createBox,\n      addBox,\n      removeBox,\n      removeSelectedBoxes,\n      selectBox,\n      deselectBox,\n      toggleBoxSelection,\n      clearSelection,\n      setColorToSelected,\n      reset,\n      startDrag,\n      dragMove,\n      endDrag,\n    };\n  });\n\nconst store = MainStore.create({\n  boxes: [],\n  selectedBoxIds: [],\n});\n\nexport default store;\n","import React, { useRef, useEffect } from \"react\";\nimport { observer } from \"mobx-react\";\nimport interact from \"interactjs\";\nimport store from \"../stores/MainStore\";\n\nfunction BoxDraggable(props) {\n  const boxRef = useRef(null);\n  const { box } = props;\n  const isSelected = store.selectedBoxIds.includes(box.id);\n\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (\n        (e.keyCode === 8 || e.key === \"Backspace\") &&\n        store.selectedCount > 0\n      ) {\n        store.removeSelectedBoxes();\n        e.preventDefault();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, []);\n\n  useEffect(() => {\n    const element = boxRef.current;\n    if (!element) return;\n\n    const interactable = interact(element).draggable({\n      inertia: false,\n      modifiers: [],\n      autoScroll: true,\n      listeners: {\n        start: (event) => {\n          const shiftKey = event.originalEvent\n            ? event.originalEvent.shiftKey\n            : false;\n\n          const currentIsSelected = store.selectedBoxIds.includes(box.id);\n\n          if (!currentIsSelected) {\n            store.selectBox(box.id, shiftKey);\n          }\n          store.startDrag();\n        },\n        move: (event) => {\n          const { dx, dy } = event;\n          store.dragMove(box.id, dx, dy);\n        },\n        end: () => {\n          store.endDrag();\n        },\n      },\n    });\n\n    return () => {\n      if (interactable) {\n        interactable.unset();\n      }\n    };\n  }, [box.id]);\n\n  const handleClick = (e) => {\n    e.stopPropagation();\n    store.toggleBoxSelection(box.id, e.shiftKey);\n  };\n\n  return (\n    <div\n      ref={boxRef}\n      id={props.id}\n      className={`box ${isSelected ? \"selected\" : \"\"}`}\n      style={{\n        backgroundColor: props.color,\n        width: props.width,\n        height: props.height,\n        transform: `translate(${props.left}px, ${props.top}px)`,\n        boxSizing: \"border-box\",\n      }}\n      onClick={handleClick}>\n      {props.children}\n    </div>\n  );\n}\n\nexport default observer(BoxDraggable);\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport BoxDraggable from \"./BoxDraggable\";\n\nfunction Box(props) {\n  return <BoxDraggable {...props}></BoxDraggable>;\n}\n\nexport default observer(Box);\n","import React from \"react\";\n\nimport { observer } from \"mobx-react\";\nimport Box from \"../components/Box\";\n\nfunction Canvas({ store }) {\n  const handleCanvasClick = (e) => {\n    if (e.target === e.currentTarget) {\n      store.clearSelection();\n    }\n  };\n\n  return (\n    <div className=\"canva\" onClick={handleCanvasClick}>\n      {store.boxes.map((box) => (\n        <Box\n          id={box.id}\n          key={box.id}\n          color={box.color}\n          left={box.left}\n          top={box.top}\n          width={box.width}\n          height={box.height}\n          box={box}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default observer(Canvas);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M6,3V0L0,4,6,8V5H9a4,4,0,0,1,4,4v5a1,1,0,0,0,2,0V9A6,6,0,0,0,9,3Z\"\n}));\n\nvar SvgUndo = function SvgUndo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    fill: \"currentColor\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    height: \"1em\",\n    width: \"1em\",\n    viewBox: \"0 0 16 16\",\n    style: {\n      verticalAlign: \"middle\"\n    },\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgUndo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/undo.477a75f8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M10,3V0l6,4L10,8V5H7A4,4,0,0,0,3,9v5a1,1,0,0,1-2,0V9A6,6,0,0,1,7,3Z\"\n}));\n\nvar SvgRedo = function SvgRedo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    fill: \"currentColor\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    height: \"1em\",\n    width: \"1em\",\n    viewBox: \"0 0 16 16\",\n    style: {\n      verticalAlign: \"middle\"\n    },\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgRedo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/redo.99d05255.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport store from \"../stores/MainStore\";\nimport { ReactComponent as UndoIcon } from \"../assets/icons/undo.svg\";\nimport { ReactComponent as RedoIcon } from \"../assets/icons/redo.svg\";\n\nfunction Toolbar() {\n  const handleUndo = () => {\n    store.undoManager.undo();\n  };\n\n  const handleRedo = () => {\n    store.undoManager.redo();\n  };\n\n  return (\n    <div className=\"toolbar\">\n      <button onClick={handleUndo} disabled={!store.undoManager.canUndo}>\n        <UndoIcon />\n      </button>\n      <button onClick={handleRedo} disabled={!store.undoManager.canRedo}>\n        <RedoIcon />\n      </button>\n      <span className=\"separator\"></span>\n      {store.selectedCount !== 0 && (\n        <span className={`${store.selectedCount !== 0 ? \"show\" : \"\"}`}>\n          {store.selectedCount} {store.selectedCount === 1 ? \"box\" : \"boxes\"}{\" \"}\n          selected\n        </span>\n      )}\n    </div>\n  );\n}\n\nexport default observer(Toolbar);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M12,9H9v3a1,1,0,0,1-2,0V9H4A1,1,0,0,1,4,7H7V4A1,1,0,0,1,9,4V7h3a1,1,0,0,1,0,2M8,0a8,8,0,1,0,8,8A8,8,0,0,0,8,0\"\n}));\n\nvar SvgAdd = function SvgAdd(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    fill: \"currentColor\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    height: \"1em\",\n    width: \"1em\",\n    viewBox: \"0 0 16 16\",\n    \"data-cy\": \"addPageIcon\",\n    style: {\n      verticalAlign: \"middle\",\n      color: \"rgb(18, 18, 18)\"\n    },\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgAdd, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/add.f3fa54cb.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M15,2a1,1,0,0,1,0,2H1A1,1,0,0,1,1,2H4V1A1,1,0,0,1,5,0h6a1,1,0,0,1,1,1V2ZM2,14.18V6H14v8.18A1.92,1.92,0,0,1,12,16H4A1.92,1.92,0,0,1,2,14.18Z\"\n}));\n\nvar SvgRemove = function SvgRemove(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    fill: \"currentColor\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    height: \"1em\",\n    width: \"1em\",\n    viewBox: \"0 0 16 16\",\n    \"data-cy\": \"deletePageFooter\",\n    style: {\n      verticalAlign: \"middle\"\n    },\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgRemove, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/remove.526be178.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M12,10a2,2,0,1,1,2-2,2,2,0,0,1-2,2M8,14a1,1,0,1,1,1-1,1,1,0,0,1-1,1M4,12a1,1,0,1,1,1-1,1,1,0,0,1-1,1M2,7A1,1,0,1,1,3,8,1,1,0,0,1,2,7M12,4C9.55,4,9.34,5,8,5A1,1,0,0,1,7,4c0-.82,1-.73,1-2A2,2,0,0,0,6,0C3,0,0,3.58,0,8A8,8,0,0,0,16,8a4,4,0,0,0-4-4\"\n}));\n\nvar SvgColor = function SvgColor(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    fill: \"currentColor\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    height: \"1em\",\n    width: \"1em\",\n    viewBox: \"0 0 16 16\",\n    \"data-cy\": \"colorPaletteIcon\",\n    style: {\n      verticalAlign: \"middle\"\n    },\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgColor, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/color.da7c140d.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport store from \"../stores/MainStore\";\nimport { ReactComponent as AddIcon } from \"../assets/icons/add.svg\";\nimport { ReactComponent as RemoveIcon } from \"../assets/icons/remove.svg\";\nimport { ReactComponent as ColorIcon } from \"../assets/icons/color.svg\";\nfunction Actions() {\n  const currentColor = (() => {\n    if (store.selectedCount === 1) return store.selectedBoxes[0].color;\n    return \"#000000\";\n  })();\n\n  const handleAddBox = () => {\n    store.createBox();\n  };\n\n  const handleRemoveBox = () => {\n    store.removeSelectedBoxes();\n  };\n\n  const handleColorChange = (e) => {\n    store.setColorToSelected(e.target.value);\n  };\n\n  return (\n    <div className=\"actions\">\n      <div className=\"btn\">\n        <button onClick={handleAddBox}>\n          <AddIcon /> Add\n        </button>\n        <span className=\"separator\"></span>\n        <button onClick={handleRemoveBox} disabled={store.selectedCount === 0}>\n          <RemoveIcon />\n        </button>\n      </div>\n      <div className=\"btn\">\n        <ColorIcon />\n        <input\n          type=\"color\"\n          onChange={handleColorChange}\n          disabled={store.selectedCount === 0}\n          value={currentColor}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default observer(Actions);\n","import React from \"react\";\n\nimport store from \"../stores/MainStore\";\nimport Canvas from \"./Canvas\";\nimport Toolbar from \"./Toolbar\";\nimport Actions from \"./Actions\";\nimport { observer } from \"mobx-react\";\n\nfunction App() {\n  console.log(\n    \"%cÂ¡Gracias por revisar este proyecto! ðŸ˜Š\",\n    `background: linear-gradient(60deg, #01D0E2 0%, #F6D302 100%);\n  color: white;\n  display: block;\n  line-height: 25px;\n  height: 25px;\n  padding: 5px;`\n  );\n\n  return (\n    <div className=\"app\">\n      <Toolbar />\n      <Canvas store={store} />\n      <Actions />\n    </div>\n  );\n}\n\nexport default observer(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./main.css\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport store from \"./stores/MainStore\";\n\ntry {\n  store.afterCreate();\n} catch (e) {\n  console.error(\"Error initializing store:\", e);\n  try {\n    localStorage.removeItem(\"canvasState\");\n    store.afterCreate();\n  } catch (retryError) {\n    console.error(\"Failed to recover from initialization error:\", retryError);\n  }\n}\n\nstore.undoManager.targetStore = store;\nstore.undoManager.withoutUndo(() => {});\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}